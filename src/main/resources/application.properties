##############################################
# APP CONFIG
##############################################
quarkus.application.name=vium-query
quarkus.http.port=${PORT:8080}

##############################################
# DATABASE CONFIG (Supabase - read-only)
##############################################
quarkus.datasource.db-kind=postgresql
quarkus.datasource.jdbc.url=${DATABASE_URL}
quarkus.datasource.username=${DB_USER}
quarkus.datasource.password=${DB_PASS}
quarkus.datasource.jdbc.max-size=5
quarkus.datasource.jdbc.validation-query-sql=SELECT 1
quarkus.datasource.jdbc.acquisition-timeout=30
##############################################
# HEALTH CHECK CONFIG
##############################################
# Garante logs e validações consistentes no Render
quarkus.datasource.health.enabled=true
quarkus.datasource.jdbc.enable=true
quarkus.datasource.jdbc.idle-removal-interval=60
quarkus.datasource.jdbc.validation-interval=15

##############################################
# OPENAPI / SWAGGER
##############################################
quarkus.smallrye-openapi.path=/openapi
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.path=/q/swagger-ui

##############################################
# SUPABASE AUTH (JWT)
##############################################
mp.jwt.verify.publickey.location=${SUPABASE_JWKS_URL}
mp.jwt.verify.issuer=${SUPABASE_ISSUER}
##############################################
# SUPABASE API (REST / Storage)
##############################################
supabase.url=${SUPABASE_URL}
supabase.anon-key=${SUPABASE_ANON_KEY}
##############################################
# CORS CONFIG (Quarkus 3.x compatível)
##############################################
quarkus.http.cors.origins=${CORS_ORIGINS:*}
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
quarkus.http.cors.headers=Authorization,Content-Type
quarkus.http.cors.access-control-allow-credentials=true

##############################################
# EXTRA KEYS (Opcional)
##############################################
MAPS_API_KEY=${MAPS_API_KEY:}
